<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Payment</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #f6f8fb;
      min-height: 100vh;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
      color: #222b3a;
    }
    .payment-container {
      max-width: 390px;
      margin: 40px auto;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 6px 32px 0 rgba(60,55,170,0.12);
      padding: 32px 24px 28px 24px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      min-height: 420px;
    }
    .title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 8px;
      color: #2a3964;
      text-align: center;
    }
    .summary {
      background: #f4faff;
      border-radius: 10px;
      padding: 18px 14px;
      margin: 22px 0 18px 0;
      font-size: 1.07rem;
      color: #355c4e;
      font-weight: 500;
      text-align: center;
      line-height: 1.7;
    }
    .label {
      font-size: 1.01rem;
      font-weight: 600;
      margin-bottom: 7px;
      color: #264b6c;
    }
    .payment-methods {
      display: flex;
      flex-direction: column;
      gap: 14px;
      margin-bottom: 24px;
    }
    .method-option {
      display: flex;
      align-items: center;
      padding: 11px 19px;
      border: 1.5px solid #e0e4f4;
      border-radius: 8px;
      background: #fafdff;
      cursor: pointer;
      font-size: 1.07rem;
      font-weight: 500;
      color: #2a3964;
      gap: 13px;
      transition: border .16s, background .14s;
      outline: none;
      user-select: none;
    }
    .method-option.selected,
    .method-option:focus,
    .method-option:hover {
      border-color: #3397ff;
      background: #eaf6ff;
    }
    .method-icon {
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 5px;
    }
    .pay-btn {
      background: linear-gradient(90deg, #36b37e 0%, #2a84e9 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1.13rem;
      font-weight: 600;
      padding: 13px 0;
      cursor: pointer;
      box-shadow: 0 2px 10px 0 rgba(60,55,170,0.09);
      transition: background .14s, box-shadow .12s;
      margin-top: 15px;
    }
    .pay-btn:focus,
    .pay-btn:hover {
      background: linear-gradient(90deg, #2a84e9 0%, #36b37e 100%);
      box-shadow: 0 8px 24px 0 rgba(60,55,170,0.13);
    }
    @media (max-width: 500px) {
      .payment-container {
        max-width: 97vw;
        margin: 10vw 1vw 0 1vw;
        padding: 7vw 3vw 7vw 3vw;
      }
    }
  </style>
</head>
<body>
  <div class="payment-container">
    <div class="title">Payment</div>
    <div class="summary" id="paymentSummary">
      <!-- Plan/Branch/Kiosk/Amount summary will be loaded here -->
      Loading payment details...
    </div>
    <div class="label">Select Payment Method</div>
    <div class="payment-methods" id="paymentMethods">
      <div class="method-option" data-method="GCash" tabindex="0">
        <span class="method-icon">
          <!-- GCash SVG Icon -->
          <svg width="28" height="28" viewBox="0 0 40 40" fill="none"><circle cx="20" cy="20" r="20" fill="#1877F2"/><text x="50%" y="52%" text-anchor="middle" fill="#fff" font-size="15" font-family="Arial" dy=".3em">G</text></svg>
        </span>
        GCash
      </div>
      <div class="method-option" data-method="PayPal" tabindex="0">
        <span class="method-icon">
          <!-- PayPal SVG Icon -->
          <svg width="28" height="28" viewBox="0 0 40 40" fill="none"><circle cx="20" cy="20" r="20" fill="#003087"/><text x="50%" y="52%" text-anchor="middle" fill="#fff" font-size="13" font-family="Arial" dy=".3em">PP</text></svg>
        </span>
        PayPal
      </div>
      <div class="method-option" data-method="CreditCard" tabindex="0">
        <span class="method-icon">
          <!-- Card SVG Icon -->
          <svg width="28" height="28" viewBox="0 0 40 40" fill="none"><rect x="5" y="10" width="30" height="20" rx="4" fill="#37c9a7"/><rect x="5" y="16" width="30" height="2" fill="#fff"/><rect x="9" y="24" width="8" height="2" rx="1" fill="#fff"/></svg>
        </span>
        Credit/Debit Card
      </div>
    </div>
    <button class="pay-btn" id="payBtn" disabled>Pay Now</button>
  </div>
  <script>
    // Function to get payment details from URL params or localStorage
    function getPaymentDetails() {
      // Try to get from URL (for direct nav from advertise.html)
      const params = new URLSearchParams(window.location.search);
      let plan = params.get('plan');
      let price = params.get('price');
      let branch = params.get('branch');
      let kiosks = params.get('kiosks');
      // Fallback to localStorage
      if (!plan || !price || !branch || !kiosks) {
        plan = localStorage.getItem('ad_plan') || '';
        price = localStorage.getItem('ad_price') || '';
        branch = localStorage.getItem('ad_branch') || '';
        kiosks = localStorage.getItem('ad_kiosks') || '';
      }
      return { plan, price, branch, kiosks };
    }

    // Display payment summary
    function showSummary() {
      const {plan, price, branch, kiosks} = getPaymentDetails();
      let amt = Number(price) * Number(kiosks || 1);
      let amountText = (amt && !isNaN(amt)) ? `₱${amt.toLocaleString()}` : '₱0';
      let html = `
        <div><b>Plan:</b> ${plan || '-'}</div>
        <div><b>Branch:</b> ${branch || '-'}</div>
        <div><b>Kiosk(s):</b> ${kiosks || '-'}</div>
        <div style="margin-top:8px;font-size:1.15rem;">
          <b>Total Amount:</b> <span style="color:#36b37e;font-size:1.23em;">${amountText}</span>
        </div>
      `;
      document.getElementById('paymentSummary').innerHTML = html;
    }

    // Payment method selection logic
    const methodEls = document.querySelectorAll('.method-option');
    let selectedMethod = '';
    methodEls.forEach(el => {
      el.addEventListener('click', function() {
        methodEls.forEach(e => e.classList.remove('selected'));
        this.classList.add('selected');
        selectedMethod = this.getAttribute('data-method');
        document.getElementById('payBtn').disabled = false;
      });
      el.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          this.click();
        }
      });
    });

    // Pay button logic
    document.getElementById('payBtn').onclick = function() {
      const {plan, price, branch, kiosks} = getPaymentDetails();
      let amt = Number(price) * Number(kiosks || 1);
      alert(`You selected:\nPlan: ${plan}\nBranch: ${branch}\nKiosk(s): ${kiosks}\nPayment Method: ${selectedMethod}\nTotal: ₱${amt.toLocaleString()}\n\n(Integrate payment processing here)`);
      // ...integrate payment logic here...
    };

    // On load
    showSummary();
  </script>
</body>
</html>